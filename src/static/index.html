<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>医学AI助手 - 基于专利的智能医疗咨询系统</title>
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="icon" href="/static/images/favicon.ico" type="image/x-icon">
    <!-- 引入字体图标 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css">
</head>
<body>
    <div class="app-container">
        <!-- 侧边栏 -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <img src="/static/images/logo.svg" alt="医学AI助手">
                    <h1>医学AI助手</h1>
                </div>
                <button class="mobile-toggle" id="sidebarToggle">
                    <i class="ri-menu-line"></i>
                </button>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li class="active"><a href="#chat"><i class="ri-message-3-line"></i> AI对话</a></li>
                    <li><a href="#history"><i class="ri-history-line"></i> 历史记录</a></li>
                    <li><a href="#about"><i class="ri-information-line"></i> 关于系统</a></li>
                </ul>
            </nav>
            
            <div class="user-section" id="userSection">
                <!-- 未登录状态 -->
                <div class="user-actions" id="userActions">
                    <button class="btn btn-login" id="loginBtn">登录</button>
                    <button class="btn btn-register" id="registerBtn">注册</button>
                </div>
                
                <!-- 已登录状态 -->
                <div class="user-profile hidden" id="userProfile">
                    <div class="avatar">
                        <img src="/static/images/avatar-placeholder.svg" alt="用户头像" id="userAvatar">
                    </div>
                    <div class="user-info">
                        <h3 id="userName">用户名</h3>
                        <p id="userEmail">user@example.com</p>
                    </div>
                    <button class="btn btn-logout" id="logoutBtn">退出</button>
                </div>
            </div>
        </aside>
        
        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 聊天页面 -->
            <section class="page active" id="chatPage">
                <header class="page-header">
                    <h2>AI医学助手</h2>
                    <div class="domain-badge" id="currentDomain">通用医学</div>
                </header>
                
                <div class="chat-container">
                    <div class="chat-messages" id="chatMessages">
                        <!-- 欢迎消息 -->
                        <div class="message system">
                            <div class="message-content">
                                <p>欢迎使用医学AI助手，我可以回答您的医疗健康问题。请注意，AI回答仅供参考，不构成医疗建议，如有紧急情况请立即就医。</p>
                            </div>
                        </div>
                        
                        <!-- 示例消息 -->
                        <div class="message ai">
                            <div class="avatar">
                                <img src="/static/images/ai-avatar.svg" alt="AI">
                            </div>
                            <div class="message-content">
                                <p>您好！我是基于专利技术的医学AI助手，特别擅长中医领域的咨询。您可以向我咨询各类医疗健康问题，例如：</p>
                                <ul class="suggestion-list">
                                    <li><button class="suggestion-btn">我最近咳嗽严重，还有点发烧，该怎么办？</button></li>
                                    <li><button class="suggestion-btn">请问太极拳对调理气血有什么好处？</button></li>
                                    <li><button class="suggestion-btn">阿莫西林和头孢一起吃有什么副作用？</button></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-input">
                        <textarea id="userInput" placeholder="请输入您的问题..." rows="1"></textarea>
                        <button id="sendBtn" class="send-btn">
                            <i class="ri-send-plane-fill"></i>
                        </button>
                    </div>
                </div>
            </section>
            
            <!-- 历史记录页面 -->
            <section class="page" id="historyPage">
                <header class="page-header">
                    <h2>历史记录</h2>
                    <button class="btn btn-clear" id="clearHistoryBtn">清空历史</button>
                </header>
                
                <div class="history-container" id="historyContainer">
                    <div class="empty-state">
                        <img src="/static/images/empty-history.svg" alt="暂无历史记录">
                        <p>暂无历史记录</p>
                    </div>
                    
                    <!-- 历史记录列表将通过JavaScript动态生成 -->
                </div>
            </section>
            
            <!-- 关于系统页面 -->
            <section class="page" id="aboutPage">
                <header class="page-header">
                    <h2>关于系统</h2>
                </header>
                
                <div class="about-container">
                    <div class="system-info">
                        <img src="/static/images/system-architecture.svg" alt="系统架构" class="system-diagram">
                        
                        <h3>系统架构</h3>
                        <p>医学AI助手基于创新专利技术，采用三层架构设计：</p>
                        
                        <div class="architecture-layers">
                            <div class="layer">
                                <h4>智能调度层</h4>
                                <p>解析用户医疗咨询意图并路由至合适的专业模型，采用三维匹配矩阵（领域-模型-可信度）实现精准匹配。</p>
                            </div>
                            
                            <div class="layer">
                                <h4>知识生产层</h4>
                                <p>生成专业医疗回答并进行知识清洗，确保内容专业、规范、安全。</p>
                            </div>
                            
                            <div class="layer">
                                <h4>智能知识库</h4>
                                <p>采用三级存储结构（核心库、扩展库、临时库）管理医疗知识，并通过动态权重算法持续优化。</p>
                            </div>
                        </div>
                        
                        <h3>特色功能</h3>
                        <ul class="feature-list">
                            <li><i class="ri-check-line"></i> 中医西医双领域专业咨询</li>
                            <li><i class="ri-check-line"></i> 智能匹配最合适的专业模型</li>
                            <li><i class="ri-check-line"></i> 知识清洗确保回答专业规范</li>
                            <li><i class="ri-check-line"></i> 基于用户反馈持续优化</li>
                            <li><i class="ri-check-line"></i> 严格的医学安全性保障</li>
                        </ul>
                        
                        <div class="disclaimer">
                            <h3>免责声明</h3>
                            <p>本系统提供的信息仅供参考，不构成医疗建议、诊断或治疗方案。用户在做出任何医疗决策前，应咨询专业医疗人员。在紧急情况下，请立即拨打急救电话或前往最近的医疗机构就诊。</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <!-- 登录模态框 -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>用户登录</h3>
                <button class="close-btn" id="closeLoginModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail">邮箱</label>
                        <input type="email" id="loginEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">密码</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">登录</button>
                        <button type="button" class="btn btn-link" id="switchToRegister">没有账号？注册</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- 注册模态框 -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>用户注册</h3>
                <button class="close-btn" id="closeRegisterModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="registerForm">
                    <div class="form-group">
                        <label for="registerName">用户名</label>
                        <input type="text" id="registerName" required>
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">邮箱</label>
                        <input type="email" id="registerEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">密码</label>
                        <input type="password" id="registerPassword" required>
                    </div>
                    <div class="form-group">
                        <label for="registerPasswordConfirm">确认密码</label>
                        <input type="password" id="registerPasswordConfirm" required>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">注册</button>
                        <button type="button" class="btn btn-link" id="switchToLogin">已有账号？登录</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- 反馈模态框 -->
    <div class="modal" id="feedbackModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>评价回答</h3>
                <button class="close-btn" id="closeFeedbackModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="feedbackForm">
                    <div class="rating">
                        <p>这个回答对您有帮助吗？</p>
                        <div class="rating-stars">
                            <i class="ri-star-line" data-rating="1"></i>
                            <i class="ri-star-line" data-rating="2"></i>
                            <i class="ri-star-line" data-rating="3"></i>
                            <i class="ri-star-line" data-rating="4"></i>
                            <i class="ri-star-line" data-rating="5"></i>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="feedbackComment">评价意见（可选）</label>
                        <textarea id="feedbackComment" rows="3" placeholder="请输入您的评价意见..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">提交评价</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- 加载脚本 -->
    <script src="/static/js/main.js"></script>
</body>
</html>
